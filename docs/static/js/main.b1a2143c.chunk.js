(this["webpackJsonpBasilisk-crowdloan-ui"]=this["webpackJsonpBasilisk-crowdloan-ui"]||[]).push([[0],{282:function(a,e,n){},283:function(a,e,n){},294:function(a,e){},298:function(a,e){},299:function(a,e){},323:function(a,e,n){},324:function(a,e,n){},435:function(a,e,n){},437:function(a,e,n){"use strict";n.r(e);var t,c=n(13),i=n.n(c),o=n(242),r=n.n(o),l=(n(282),n(283),n(472)),d=n(474),s=n(462),u={indexerUrl:"https://api-crowdloan-basilisk.hydradx.io/",nodeUrl:"wss://ksm-arch-01.hydration.cloud",dappName:"Basilisk Crowdloan",ownParachainId:function(){var a=new URL(document.location).searchParams;return console.log("ownParachainId",a.get("ownParachainId")),a.get("ownParachainId")}()||"2082-FcbeWvFfqsNj6D8F3gg45pHYRAAsFAdCApCnRUJ5TX71mPg",ownParaId:"2082",blockTime:6e3,ownCrowdloanBlockNum:8228873,targetAuctionId:4,ksmOpportunityCost:"0.1375",ksmPrecision:12,ksmToUsd:"205.20",hdxToUsd:"0.0859",incentives:{precision:50,hdx:{decimals:12,scale:{leadPercentageDiff:{min:0,max:.1},rewardMultiplier:{min:.3,max:.05}}},bsx:{decimals:12,allocated:"15000000000000000000000",scale:{rewardMultiplier:{min:1,max:0,none:0}}}},historicalAuctionData:{1:{blockNum:7924237,closingStart:7951237,closingEnd:8023773},2:{blockNum:8024552,closingStart:8051552,closingEnd:8123989},3:{blockNum:8124516,closingStart:8151516,closingEnd:8223516},4:{blockNum:8224581,closingStart:8251581,closingEnd:8323581}}},b=n(10),g=new l.a({uri:u.indexerUrl,cache:new d.a,defaultOptions:{watchQuery:{fetchPolicy:"network-only"},query:{fetchPolicy:"network-only"}}}),j=function(a){var e=a.children;return Object(b.jsx)(s.a,{client:g,children:e})},v=n(1),h=n(25),m=n(166);!function(a){a.LoadChronicle="LOAD_CHRONICLE",a.SetChronicle="SET_CHRONICLE",a.LoadOwnData="LOAD_OWN_DATA",a.SetOwnData="SET_OWN_DATA",a.LoadSiblingData="LOAD_SIBLING_DATA",a.SetSiblingData="SET_SIBLING_DATA",a.ConnectAccount="CONNECT_ACCOUNT",a.SetAccountData="SET_ACCOUNT_DATA",a.LoadHistoricalIncentivesData="LOAD_HISTORICAL_INCENTIVES_DATA",a.SetHistoricalIncentivesData="SET_HISTORICAL_INCENTIVES_DATA"}(t||(t={}));var O,w,x,f,p,N,C,k,I=n(16),A=n.n(I),B={account:{loading:!1,data:{address:null,balance:"0",contributions:[]}},chronicle:{loading:!1,data:{curBlockNum:0,curAuctionId:0,curAuction:{closingStart:null,closingEnd:null,blockNum:null}}},own:{loading:!1,data:{crowdloan:null,aggregatedCrowdloanBalances:[]}},sibling:{loading:!1,data:{crowdloan:null,aggregatedCrowdloanBalances:[]}},historicalIncentives:{loading:!1,data:{}}},y=function(a,e){A.a.debug("Store","action",e.type,e.payload,a);var n=function(){switch(e.type){case t.LoadChronicle:return Object(h.a)(Object(h.a)({},a),{},{chronicle:Object(h.a)(Object(h.a)({},a.chronicle),{},{loading:!0})});case t.SetChronicle:return Object(h.a)(Object(h.a)({},a),{},{chronicle:Object(h.a)(Object(h.a)({},a.chronicle),{},{loading:!1,data:e.payload})});case t.LoadOwnData:return Object(h.a)(Object(h.a)({},a),{},{own:Object(h.a)(Object(h.a)({},a.own),{},{loading:!0})});case t.SetOwnData:return Object(h.a)(Object(h.a)({},a),{},{own:Object(h.a)(Object(h.a)({},a.own),{},{loading:!1,data:e.payload})});case t.LoadSiblingData:return Object(h.a)(Object(h.a)({},a),{},{sibling:Object(h.a)(Object(h.a)({},a.sibling),{},{loading:!0})});case t.SetSiblingData:return Object(h.a)(Object(h.a)({},a),{},{sibling:{loading:!1,data:e.payload}});case t.ConnectAccount:return Object(h.a)(Object(h.a)({},a),{},{account:Object(h.a)(Object(h.a)({},B.account),{},{loading:!0})});case t.SetAccountData:return Object(h.a)(Object(h.a)({},a),{},{account:Object(h.a)(Object(h.a)({},a.account),{},{loading:!1,data:e.payload})});case t.LoadHistoricalIncentivesData:return Object(h.a)(Object(h.a)({},a),{},{historicalIncentives:Object(h.a)(Object(h.a)({},a.historicalIncentives),{},{loading:!0})});case t.SetHistoricalIncentivesData:return Object(h.a)(Object(h.a)({},a),{},{historicalIncentives:Object(h.a)(Object(h.a)({},a.historicalIncentives),{},{loading:!1,data:e.payload})});default:return a}}();return A.a.debug("Store","newState",n),n},S=Object(m.a)((function(){var a=Object(c.useReducer)(y,B),e=Object(v.a)(a,2);return{state:e[0],dispatch:e[1]}})),D=Object(v.a)(S,2),R=D[0],E=D[1],P=function(){return E().state.chronicle},F=function(){return E().state.own},T=function(){return E().state.sibling},L=function(){return E().state.account},M=function(){return L().data.contributions},H=n(23),_=n.n(H),$=n(28),q=n(475),W=n(471),U=n(183),V=n(463),K=n(29),Y=n.n(K),G=n(477),J=n(262),X={address:function(){var a=new URL(document.location).searchParams;return A.a.debug("account",a.get("account")),a.get("account")}()||""},z=Object(m.a)((function(){var a=Object(c.useState)([]),e=Object(v.a)(a,2),n=e[0],t=e[1],i=Object(V.a)("bsx-crowdloan-account",X.address),o=Object(v.a)(i,2),r=o[0],l=o[1],d=Object(c.useState)("0"),s=Object(v.a)(d,2),b=s[0],g=s[1],j=Object(c.useState)(!1),m=Object(v.a)(j,2),O=(m[0],m[1],Object(c.useState)(!1)),w=Object(v.a)(O,2),x=(w[0],w[1]),f=Object(c.useState)(void 0),p=Object(v.a)(f,2),N=p[0],C=p[1],k=Object(c.useState)(void 0),I=Object(v.a)(k,2),B=I[0],y=I[1],S=P();Object(c.useEffect)((function(){Object($.a)(_.a.mark((function a(){var e,n,c,i;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return A.a.debug("usePolkadot","loading initial"),x(!0),a.next=4,Object(U.b)(u.dappName);case 4:return e=a.sent,a.next=7,Object(U.a)();case 7:return n=a.sent.map((function(a){return Object(h.a)(Object(h.a)({},a),{},{address:Object(G.a)(Object(J.a)(a.address),2)})})),c=new q.a(u.nodeUrl),a.next=11,W.a.create({provider:c});case 11:i=a.sent,A.a.debug("usePolkadot","loaded",e,i),t(n),C(i),x(!1);case 16:case"end":return a.stop()}}),a)})))()}),[]);var D=function(){var a=Object($.a)(_.a.mark((function a(){var e,n;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(N&&r){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,N.query.system.account(r);case 4:e=a.sent,n=e.data,A.a.debug("usePolkadot","balance",n.free.toString()),g(n.free.toString());case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){r&&N&&D()}),[r,N,S.data.curBlockNum]),{accounts:n,setActiveAccount:l,activeAccount:r,activeAccountBalance:b,lastContributionStatus:B,contribute:function(){var a=Object($.a)(_.a.mark((function a(e){var n;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(N){a.next=2;break}return a.abrupt("return");case 2:if(r){a.next=4;break}return a.abrupt("return");case 4:return x(!0),a.next=7,Object(U.c)(r);case 7:n=a.sent,Object($.a)(_.a.mark((function a(){return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{N.tx.crowdloan.contribute(u.ownParaId,new Y.a(e).toFixed(0),null).signAndSend(r,{signer:n.signer},(function(a){var e=a.status,n=a.events;(e.isInBlock||e.isFinalized)&&(n.filter((function(a){var e=a.event;return N.events.system.ExtrinsicFailed.is(e)})).length?y(!1):y(!0))})),D()}catch(t){y(!1)}x(!1);case 2:case"end":return a.stop()}}),a)})))();case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})),Z=Object(v.a)(z,2),Q=Z[0],aa=Z[1],ea=(n(323),n.p+"static/media/Logo-dark-2-clean.cbd38319.png"),na=n.p+"static/media/basilisk-wallpaper-2.cc01249c.png",ta=n(100),ca=n.n(ta),ia=u.incentives,oa=function(a,e,n,t){if(A.a.debug("calculateBsxMultiplier",e),a>=u.historicalAuctionData[u.targetAuctionId].closingEnd)return ia.bsx.scale.rewardMultiplier.none;if((e||0)<u.targetAuctionId)return ia.bsx.scale.rewardMultiplier.min;if(!n||!t)return ia.bsx.scale.rewardMultiplier.min;var c=ca()([n,t],[ia.bsx.scale.rewardMultiplier.min,ia.bsx.scale.rewardMultiplier.max]);return a>=n?c(a):ia.bsx.scale.rewardMultiplier.min},ra=u.incentives,la=ca()([ra.hdx.scale.leadPercentageDiff.min,ra.hdx.scale.leadPercentageDiff.max],[ra.hdx.scale.rewardMultiplier.min,ra.hdx.scale.rewardMultiplier.max]),da=n(83),sa=n(473),ua=n(476),ba=u.ownCrowdloanBlockNum,ga='\n    chronicle(id: "'.concat("ChronicleKey",'") {\n        curBlockNum\n        curAuctionId,\n        curAuction {\n            closingStart,\n            closingEnd\n        }\n    }\n'),ja=Object(sa.a)(O||(O=Object(da.a)(["\n    query chronicle {\n        ","\n    }\n"])),ga),va=Object(sa.a)(w||(w=Object(da.a)(["\n    query ownCrowdloan($parachainId: String) {\n        crowdloans(filter: {\n            parachainId: {\n                equalTo: $parachainId\n            }\n        }){\n            ","\n        }\n    }\n"])),"\n    nodes{\n        id,\n        cap,\n        raised,\n        parachainId,\n        blockNum\n    }\n"),ha=Object(sa.a)(x||(x=Object(da.a)(["\n    query getAggregatedCrowdloanBalances($parachainId: String, $onlySignificant: Boolean, $ownCrowdloanBlockNum: Int) {\n        aggregatedCrowdloanBalances(\n            filter: { \n                parachainId: { equalTo: $parachainId },\n                isSignificant: { equalTo: $onlySignificant }\n                blockNum: {\n                    greaterThanOrEqualTo: $ownCrowdloanBlockNum\n                }\n            },\n            orderBy: BLOCK_NUM_ASC\n        ) {\n            nodes {\n                id,\n                blockNum,\n                raised,\n                parachainId\n            }\n        }\n    }\n"]))),ma=Object(sa.a)(f||(f=Object(da.a)(["\n    query siblingCrowdloanCandidates($ownParachainId: String) {\n        crowdloans(\n            filter: { \n                parachainId: { notEqualTo: $ownParachainId }\n                isFinished: { notEqualTo: true }\n                # only crowdloans that have not won an auction yet\n                wonAuctionId: { isNull: true }\n            }\n            first: 2\n            orderBy: RAISED_DESC\n        ) {\n            nodes {\n                blockNum\n                id\n                raised\n                parachainId\n            }\n        }\n    }\n"]))),Oa=Object(sa.a)(p||(p=Object(da.a)(["\n    query contributionsByAddressAndParachainId($account: String, $parachainId: String, $ownCrowdloanBlockNum: Int) {\n        contributions(\n            filter:{\n                account: {\n                    equalTo: $account\n                },\n                parachainId: {\n                    equalTo: $parachainId\n                },\n                blockNum: {\n                    greaterThan: $ownCrowdloanBlockNum\n                }\n            }\n        ){\n            nodes{\n                amount,\n                account,\n                parachainId,\n                blockNum\n            }\n        }\n    }\n"]))),wa=Object(sa.a)(N||(N=Object(da.a)(["\n    query historicalSiblingCrowdloanCandidates($ownParachainId: String, $blockNums: [Int!]) {\n        aggregatedCrowdloanBalances(\n            filter: { \n                parachainId: { notEqualTo: $ownParachainId }\n                blockNum: { in: $blockNums }\n            }\n            orderBy: RAISED_DESC\n        ) {\n            nodes {\n                blockNum\n                id\n                raised\n                parachainId,\n                fund {\n                    wonAuctionId\n                }\n            }\n        }\n    }\n"]))),xa=Object(sa.a)(C||(C=Object(da.a)(["\n    query historicalSiblingCrowdloanCandidates($ownParachainId: String, $blockNums: [Int!]) {\n        aggregatedCrowdloanBalances(\n            filter: { \n                parachainId: { equalTo: $ownParachainId }\n                # only crowdloans that have not won an auction yet\n                # wonAuctionId: { isNull: true }\n                blockNum: { in: $blockNums }\n            }\n        ) {\n            nodes {\n                blockNum\n                id\n                raised\n                parachainId,\n            }\n        }\n    }\n"]))),fa=Object(sa.a)(k||(k=Object(da.a)(["\n    query contributions($ownParachainId: String, $ownCrowdloanBlockNum: Int) {\n        contributions(filter:{\n            parachainId: {\n                equalTo: $ownParachainId\n            },\n            blockNum:{\n                greaterThan: $ownCrowdloanBlockNum\n            },\n        }) {\n            totalCount,\n            nodes{\n                blockNum,\n                amount\n            }\n        }\n    }\n"]))),pa=function(a){return Object(ua.a)(va,{variables:{parachainId:a}})},Na=function(a){return Object(ua.a)(ha,{variables:Object(h.a)({onlySignificant:!0,ownCrowdloanBlockNum:ba},a)})},Ca=n(73),ka=function(){var a=Object(ua.a)(ja),e=Object(v.a)(a,2),n=e[0],i=e[1],o=E(),r=o.state,l=o.dispatch;return Object(c.useEffect)((function(){A.a.debug("useChronicleData","state.chronicle.loading",r.chronicle.loading),r.chronicle.loading&&n()}),[r.chronicle.loading,n]),Object(c.useEffect)((function(){var a=setInterval((function(){n()}),u.blockTime);return function(){clearInterval(a)}}),[]),Object(c.useEffect)((function(){var a,e,n;i.called&&!i.loading&&(A.a.debug("useChronicleData","chronicle",i),i.data&&l({type:t.SetChronicle,payload:{curBlockNum:i.data.chronicle.curBlockNum,curAuctionId:i.data.chronicle.curAuctionId?parseInt(i.data.chronicle.curAuctionId):0,curAuction:{closingStart:null===(a=i.data.chronicle.curAuction)||void 0===a?void 0:a.closingStart,closingEnd:null===(e=i.data.chronicle.curAuction)||void 0===e?void 0:e.closingEnd,blockNum:null===(n=i.data.chronicle.curAuction)||void 0===n?void 0:n.blockNum}}}))}),[i,l]),{chronicle:r.chronicle}},Ia=function(){var a=pa(u.ownParachainId),e=Object(v.a)(a,2),n=e[0],i=e[1],o=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Na(Object(h.a)({parachainId:u.ownParachainId},a))}(),r=Object(v.a)(o,2),l=r[0],d=r[1],s=E().dispatch,b=P(),g=F();Object(c.useEffect)((function(){A.a.debug("useOwnData","chronicle changed, loading own data",i.loading,d.loading),i.loading||d.loading||s({type:t.LoadOwnData})}),[b.data.curBlockNum,i.loading,d.loading,s]),Object(c.useEffect)((function(){A.a.debug("useOwnData","state.own.loading",g.loading),g.loading&&(A.a.debug("useOwnData","getOwnCrowdloan"),n(),A.a.debug("useOwnData","getOwnCrowgetOwnAggregatedCrowdloanBalancesdloan"),l())}),[g.loading,n,l]);var j=Object(Ca.every)([i.loading,d.loading,!d.called]);return A.a.debug("useOwnData","loading",j),Object(c.useEffect)((function(){var a;if(i.called&&!i.loading&&d.called&&!d.loading&&(A.a.debug("useOwnData","ownCrowdloan",i),A.a.debug("useOwnData","ownCrowdloanAggregatedBalances",d),i.data)){var e=i.data.crowdloans.nodes[0];if(e){e={id:e.id,parachainId:e.parachainId,raised:e.raised,cap:e.cap,blockNum:e.blockNum};var n=null===(a=d.data)||void 0===a?void 0:a.aggregatedCrowdloanBalances.nodes.map((function(a){return{id:a.id,blockNum:a.blockNum,raised:a.raised,parachainId:a.parachainId}}));A.a.debug("useOwnData","crowdloan",e),A.a.debug("useOwndata","aggregatedCrowdloanBalances",n),s({type:t.LoadSiblingData}),s({type:t.SetOwnData,payload:{crowdloan:e,aggregatedCrowdloanBalances:n}})}}}),[i,d,j,s]),{own:g,ownLoading:j}},Aa=function(a,e){A.a.debug("determineSiblingParachain",a,e);var n=a.map((function(a){return{valuation:a.raised,parachainId:a.parachainId}}))||[],t=(e||0)<u.targetAuctionId?n[1]:n[0];return A.a.debug("determineSiblingParachain","siblingParachain",null===t||void 0===t?void 0:t.parachainId),null===t||void 0===t?void 0:t.parachainId},Ba=function(){var a,e=P(),n=F(),i=E().dispatch,o=T(),r=Object(ua.a)(ma,{variables:{ownParachainId:u.ownParachainId}}),l=Object(v.a)(r,2),d=l[0],s=l[1],b=Object(c.useState)(""),g=Object(v.a)(b,2),j=g[0],h=g[1],m=pa(j),O=Object(v.a)(m,2),w=O[0],x=O[1],f=Na({parachainId:j}),p=Object(v.a)(f,2),N=p[0],C=p[1],k=Object(Ca.every)([x.loading,!x.called,C.loading,!C.called]);return Object(c.useEffect)((function(){e.data.curBlockNum&&o.loading&&(x.loading||s.loading||(A.a.debug("useSiblingData","getSiblingCrowdloanCandidates"),d()))}),[e.data.curBlockNum,o.loading,d]),Object(c.useEffect)((function(){var a,t;if(!n.loading&&n.data.crowdloan&&e.data.curBlockNum&&s.called&&!s.loading){A.a.debug("useSiblingData","loaded","determining sibling parachain");var c=Aa(null===(a=s.data)||void 0===a?void 0:a.crowdloans.nodes,null===(t=e.data)||void 0===t?void 0:t.curAuctionId);h(c)}}),[s,null===(a=e.data)||void 0===a?void 0:a.curAuctionId,n.data.crowdloan,n.loading]),Object(c.useEffect)((function(){j&&e.data.curBlockNum&&o.loading&&(A.a.debug("useSiblingData","fetching sibling data"),N(),w())}),[j,e.data.curBlockNum,o.loading]),Object(c.useEffect)((function(){var a;if(x.called&&!x.loading&&C.called&&!C.loading){A.a.debug("useSiblingData","fetched sibling data","parsing");var e=x.data.crowdloans.nodes[0];e={id:e.id,parachainId:e.parachainId,raised:e.raised,cap:e.cap,blockNum:e.blockNum};var n=null===(a=C.data)||void 0===a?void 0:a.aggregatedCrowdloanBalances.nodes.map((function(a){return{id:a.id,blockNum:a.blockNum,raised:a.raised,parachainId:a.parachainId}}));A.a.debug("useSiblingData","setting sibling data"),i({type:t.SetSiblingData,payload:{crowdloan:e,aggregatedCrowdloanBalances:n}})}}),[C,x]),{sibling:o,siblingLoading:k}},ya=function(a,e,n,t,c,i){A.a.debug("calculateIncentives",{blockNum:a,curAuctionId:e,curAuctionClosingStart:n,curAuctionClosingEnd:t,ownCrowdloanValuation:c,siblingCrowdloanValuation:i});var o=u.historicalAuctionData[u.targetAuctionId].closingEnd,r={hdxBonus:"0",bsxMultiplier:"0"};if(void 0==c)return A.a.debug("calculateIncentives","no ownCrowdloanValuation"),r;if(a>(o||0))return A.a.debug("calculateIncentives","contribution newer than target auction end"),r;var l=oa(a,e,n,t);A.a.debug("calculateIncentives","calculateBsxMultiplier",l);var d=!!n&&a>=n;A.a.debug("calculateIncentives","isAuctionClosing",d);var s=function(a,e,n){if(e.isLessThanOrEqualTo(a))return ra.hdx.scale.rewardMultiplier.min;var t=a.minus(e).dividedBy(e).multipliedBy(-1);A.a.debug("calculateHdxMultiplier","leadPercentageDiff",e.toFixed(0),a.toFixed(0),t.toFixed(u.incentives.precision));var c=t.isGreaterThanOrEqualTo(ra.hdx.scale.leadPercentageDiff.max)?ra.hdx.scale.rewardMultiplier.max:la(t);return A.a.debug("calculateHdxMultiplier","hdxBonus",c),c}(new Y.a(i||0),new Y.a(c||0));A.a.debug("calculateIncentives","hdxBonus",s);var b={hdxBonus:new Y.a(s).toFixed(u.ksmPrecision),bsxMultiplier:new Y.a(l).toFixed(u.ksmPrecision)};return A.a.debug("calculateIncentives","incentives",b),b},Sa=function(){var a,e,n,t,c=P(),i=F(),o=T(),r=ya(c.data.curBlockNum,c.data.curAuctionId,null===(a=c.data.curAuction)||void 0===a?void 0:a.closingStart,null===(e=c.data.curAuction)||void 0===e?void 0:e.closingEnd,(null===(n=i.data.crowdloan)||void 0===n?void 0:n.raised)||void 0,(null===(t=o.data.crowdloan)||void 0===t?void 0:t.raised)||void 0);return i.data.crowdloan?r:{hdxBonus:null,bsxMultiplier:null}},Da=function(a){A.a.debug("findActiveHistoricalAuction",a);var e=Object.keys(u.historicalAuctionData).filter((function(e){var n=u.historicalAuctionData[e];return Object(Ca.inRange)(a,n.blockNum,n.closingEnd)}));if(A.a.debug("findActiveHistoricalAuction","activeAuctions",e),!e||e&&0==e.length)return A.a.debug("findActiveHistoricalAuction","no active auction"),0;if(e.length>1)throw A.a.debug("findActiveHistoricalAuctions","more than 1 active auction found"),new Error("More than 1 active historical auctions found");var n=e[0];return A.a.debug("findActiveHistoricalAuctions","activeAuction",n),n},Ra=function(){var a=L(),e=E().dispatch,n=a.data.contributions,i=Object(c.useState)([]),o=Object(v.a)(i,2),r=o[0],l=o[1],d=function(a){return Object(ua.a)(wa,{variables:{ownParachainId:u.ownParachainId,blockNums:a}})}(r),s=Object(v.a)(d,2),b=s[0],g=s[1],j=function(a){return Object(ua.a)(xa,{variables:{ownParachainId:u.ownParachainId,blockNums:a}})}(r),m=Object(v.a)(j,2),O=m[0],w=m[1],x=E().state.historicalIncentives;return Object(c.useEffect)((function(){if(A.a.debug("notWorkingHook",n),n&&(!n||n.length)){var a=n.map((function(a){return a.blockNum}));l(a),A.a.debug("useHistoricalIncentivesData","blockNums",a),e({type:t.LoadHistoricalIncentivesData})}}),[n]),Object(c.useEffect)((function(){r&&(r&&!r.length||x.loading&&(g.loading||w.loading||(A.a.debug("useHistoricalIncentivesData","fetching historical balances for own & sibling"),b(),O())))}),[x.loading,g,b,O,w]),Object(c.useEffect)((function(){if(g.called&&!g.loading&&w.called&&!w.loading){A.a.debug("useHistoricalIncentivesData","calculating historican incentives for each contribution block");var a=Object(Ca.groupBy)(g.data.aggregatedCrowdloanBalances.nodes,"blockNum"),n=Object(Ca.groupBy)(w.data.aggregatedCrowdloanBalances.nodes,"blockNum");A.a.debug("useHistoricalIncentivesData","historicalBalances",a,n);var c=r.reduce((function(e,n){return e[n]=function(a,e){A.a.debug("filterHistoricallyValidCrowdloanSiblingCandidates",a,e);var n=Da(a);A.a.debug("filterHistoricallyValidCrowdloanSiblingCandidates","activeAuctionId",n);var t=(null===e||void 0===e?void 0:e.filter((function(a){var e=a.fund.wonAuctionId;return!(e&&e<=n)})))||[];return A.a.debug("filterHistoricallyValidCrowdloanSiblingCandidates",t),t}(n,a[n]),e}),{});A.a.debug("useHistoricalIncentivesData","validHistoricalCrowdloanCandidates",c);var i=r.reduce((function(a,e){var t=Da(e),i=Aa(c[e],t);if(!n[e])return a;var o=n[e][0];if(A.a.debug("useHistoricalIncentivesData","calculating",{activeAuctionId:t,siblingParachainId:i,ownCrowdloan:o}),!o)return a;var r=u.historicalAuctionData[t];A.a.debug("useHistoricalIncentivesData","activeAuction",r);var l=Object(Ca.find)(c[e],["parachainId",i]);return A.a.debug("useHistoricalIncentivesData","own vs sibling raised",{sibling:null===l||void 0===l?void 0:l.raised,own:null===o||void 0===o?void 0:o.raised}),a[e]=Object(h.a)(Object(h.a)({},ya(e,t,null===r||void 0===r?void 0:r.closingStart,null===r||void 0===r?void 0:r.closingEnd,null===o||void 0===o?void 0:o.raised,null===l||void 0===l?void 0:l.raised)),{},{blockNum:e,siblingParachainId:i}),A.a.debug("useHistoricalIncentivesData","resulting historical incentive",e,a[e]),a}),{});e({type:t.SetHistoricalIncentivesData,payload:i})}}),[g,w]),x},Ea=function(a,e){return a.reduce((function(a,n){A.a.debug("useCalculateRewardsReceived","hdxReward","contribution",n,e.data[n.blockNum]);var t=new Y.a(n.amount).multipliedBy(u.ksmOpportunityCost);A.a.debug("useCalculateRewardsReceived","hdxReward","ksmOpportunityCostPerContribution",t);var c=e.data[n.blockNum]?t.multipliedBy(e.data[n.blockNum].hdxBonus):new Y.a("0");return A.a.debug("useCalculateRewardsReceived","hdxReward","contributionHdxReward",c),new Y.a(a).plus(c).toFixed(u.incentives.precision)}),"0")},Pa=function(a,e,n,t,c){var i=a.reduce((function(a,n){var t=oa(n.blockNum,e.data.curAuctionId,e.data.curAuction.closingStart,e.data.curAuction.closingEnd);return A.a.debug("useCalculateRewardsReceived","accountWeight bsxMultiplier",t,{blockNum:n.blockNum,curAuctionId:e.data.curAuctionId,closingStart:e.data.curAuction.closingStart,closingEnd:e.data.curAuction.closingEnd}),new Y.a(a).plus(new Y.a(n.amount).multipliedBy(t)).toFixed(u.incentives.precision)}),"0");A.a.debug("useCalculateRewardsReceived","accountWeight",i),A.a.debug("useCalculateRewardsReceived","totalContributionWeight",n);var o=function(a,e,n){var t=e.reduce((function(a,e){var t=oa(e.blockNum,n.data.curAuctionId,n.data.curAuction.closingStart,n.data.curAuction.closingEnd);return A.a.debug("useCalculateRewardsReceived","accountWeight bsxMultiplier",t,{blockNum:e.blockNum,curAuctionId:n.data.curAuctionId,closingStart:n.data.curAuction.closingStart,closingEnd:n.data.curAuction.closingEnd}),new Y.a(a).plus(new Y.a(e.amount).multipliedBy(t)).toFixed(u.incentives.precision)}),"0");return new Y.a(t).isZero()?new Y.a("0").toFixed(u.incentives.precision):new Y.a(u.incentives.bsx.allocated).dividedBy(a).multipliedBy(t).toFixed(u.incentives.precision)}(n||"0",a,e);A.a.debug("useCalculateRewardsReceived","accountCurrentBsxReward",o);var r=function(a,e,n){var t=e.reduce((function(a,e){var t=oa(e.blockNum,n.data.curAuctionId,n.data.curAuction.closingStart,n.data.curAuction.closingEnd);return A.a.debug("useCalculateRewardsReceived","accountWeight bsxMultiplier",t,{blockNum:e.blockNum,curAuctionId:n.data.curAuctionId,closingStart:n.data.curAuction.closingStart,closingEnd:n.data.curAuction.closingEnd}),new Y.a(a).plus(new Y.a(e.amount).multipliedBy(t)).toFixed(u.incentives.precision)}),"0");return new Y.a(u.incentives.bsx.allocated).dividedBy(new Y.a(a).multipliedBy(u.incentives.bsx.scale.rewardMultiplier.min)).multipliedBy(t).toFixed(u.incentives.precision)}(t.data.crowdloan.cap,a,e);return A.a.debug("useCalculateRewardsReceived","accountMinimumBsxReward",r),{accountCurrentBsxReward:o,accountMinimumBsxReward:r}},Fa=function(){var a,e=M(),n=P(),t=Ra(),i=Object(ua.a)(fa,{variables:{ownParachainId:u.ownParachainId,ownCrowdloanBlockNum:u.ownCrowdloanBlockNum}}),o=Object(v.a)(i,2),r=o[0],l=o[1],d=Object(c.useState)("0"),s=Object(v.a)(d,2),b=s[0],g=s[1],j=Object(c.useState)("0"),h=Object(v.a)(j,2),m=h[0],O=h[1],w=Object(c.useState)("0"),x=Object(v.a)(w,2),f=x[0],p=x[1],N=Object(c.useState)("0"),C=Object(v.a)(N,2),k=C[0],I=C[1],B=Object(c.useState)(!1),y=Object(v.a)(B,2),S=y[0],D=y[1],R=F();return Object(c.useEffect)((function(){A.a.debug("useCalculateRewardsReceived","getAllOwnContributions","fetching"),r(),D(!0)}),[n.data.curBlockNum]),Object(c.useEffect)((function(){if(l.called&&!l.loading){A.a.debug("useCalculateRewardsReceived","totalContributionWeight","calculating");var a=l.data.contributions.nodes.reduce((function(a,e){var n=Da(e.blockNum),t=u.historicalAuctionData[n],c=oa(e.blockNum,n,null===t||void 0===t?void 0:t.closingStart,null===t||void 0===t?void 0:t.closingEnd);A.a.debug("useCalculateRewardsReceived","bsxMultiplier totalContributionWeight",c,{blockNum:e.blockNum,curAuctionId:n,closingStart:null===t||void 0===t?void 0:t.closingStart,closingEnd:null===t||void 0===t?void 0:t.closingEnd});var i=new Y.a(e.amount).multipliedBy(c).toFixed(u.incentives.precision);return new Y.a(a).plus(i).toFixed(u.incentives.precision)}),"0");A.a.debug("useCalculateRewardsReceived","totalContributionWeight",a),g(a)}}),[l.loading,l.called,l.data]),Object(c.useEffect)((function(){var a;if((null===(a=R.data.crowdloan)||void 0===a?void 0:a.cap)&&!t.loading&&Object.keys(t.data).length){var c=Pa(e,n,b,R),i=c.accountCurrentBsxReward,o=c.accountMinimumBsxReward;O(i),p(o),A.a.debug("useCalculateRewardsReceived","bsx rewards",o,i);var r=Ea(e,t);A.a.debug("useCalculateRewardsReceived","hdxReward",r),I(r),D(!1)}}),[b,t.loading,t.data,e,null===(a=R.data.crowdloan)||void 0===a?void 0:a.cap]),{currentBsxReceived:m,minimalBsxReceived:f,currentHdxReceived:k,totalContributionWeight:b,loading:S}},Ta=function(a){return new Y.a(a).multipliedBy(new Y.a(10).exponentiatedBy(12)).toFixed(u.ksmPrecision)},La=function(a){return new Y.a(a).dividedBy(new Y.a(10).exponentiatedBy(12)).toFixed(u.ksmPrecision)},Ma=function(a){return new Y.a(a).multipliedBy(u.ksmToUsd).toFixed(u.ksmPrecision)},Ha=function(a){return new Y.a(a).dividedBy(u.hdxToUsd).toFixed(u.ksmPrecision)},_a=n(137),$a=n.n(_a),qa=(n(324),function(a){var e=a.totalContributionWeight,n=a.connectAccount,t=F(),i=P(),o=Sa(),r=aa(),l=r.activeAccountBalance,d=r.lastContributionStatus,s=r.contribute,u=r.activeAccount,g=Object(c.useState)(void 0),j=Object(v.a)(g,2),h=j[0],m=j[1],O=Object(c.useState)({minimalBsxReceived:"0",currentBsxReward:"0",currentHdxReceived:"0"}),w=Object(v.a)(O,2),x=w[0],f=w[1];Object(c.useEffect)((function(){if(A.a.debug("CrowdloanContributeForm","calculating rewards",h,t,e),t&&i&&e&&t.data.crowdloan&&i.data.curBlockNum){var a=[{amount:h?Ta(h):"0",blockNum:i.data.curBlockNum}],n={data:{}};n.data[i.data.curBlockNum]={hdxBonus:o.hdxBonus};var c=Pa(a,i,e,t);A.a.debug("CrowdloanContributeForm","historicalIncentives",n);var r=Ea(a,n);A.a.debug("CrowdloanContributeForm",c,r),f({minimalBsxReceived:new Y.a(La(c.accountMinimumBsxReward)).toFixed(6),currentBsxReward:new Y.a(La(c.accountCurrentBsxReward)).toFixed(6),currentHdxReceived:new Y.a(Ha(Ma(La(r)))).toFixed(6)})}}),[h,t,i,e]);Object(c.useEffect)((function(){d&&m(0)}),[d]);A.a.debug("CrowdloanContributeForm","rewardsReceived",x);var p=function(){};return Object(b.jsxs)("div",{className:"bsx-contribute-form",children:[Object(b.jsxs)("div",{className:"bsx-form-wrapper",children:[Object(b.jsx)("label",{children:"ksm contribution"}),Object(b.jsx)($a.a,{name:"amount",decimalsLimit:12,value:h,placeholder:"Your sacrifice goes here",onValueChange:function(a){if(A.a.debug("CrowdloanContributeForm","handleContributeChange",a,l),void 0==a)return m(void 0);m(a)}}),Object(b.jsx)("label",{children:"minimal bsx received"}),Object(b.jsx)($a.a,{name:"minimal bsx received",decimalsLimit:6,disabled:!0,value:x.minimalBsxReceived,onValueChange:p}),Object(b.jsx)("label",{children:"current bsx received"}),Object(b.jsx)($a.a,{name:"current bsx received",decimalsLimit:6,disabled:!0,value:x.currentBsxReward,onValueChange:p}),Object(b.jsx)("label",{children:"current hdx received"}),Object(b.jsx)($a.a,{name:"current hdx received",decimalsLimit:6,disabled:!0,value:x.currentHdxReceived,onValueChange:p}),u?Object(b.jsx)("button",{disabled:!h||0==h,onClick:function(){A.a.debug("CrowdloanContributeForm","handleContributeClick",h),s(Ta(h))},children:"Contribute"}):Object(b.jsx)("button",{onClick:n,children:"Connect Account"})]}),Object(b.jsx)("div",{className:"contribution-status",children:d?"Thanksss for your sacrifice":0==d?"There was a problem with your contribution, please try again.":""})]})}),Wa=n(208),Ua=n(92),Va=n.n(Ua),Ka=n(43),Ya=n(263),Ga=function(){var a=P(),e=L().data.address,n=function(a,e){return Object(ua.a)(Oa,{variables:{account:a,parachainId:e,ownCrowdloanBlockNum:u.ownCrowdloanBlockNum}})}(e||"",u.ownParachainId),t=Object(v.a)(n,2),i=t[0],o=t[1],r=Object(c.useState)([]),l=Object(v.a)(r,2),d=l[0],s=l[1];return Object(c.useEffect)((function(){e&&a.data.curBlockNum&&(A.a.debug("useContributionsData","getContributionsByAccountAndParachainId","called"),i())}),[a.data.curBlockNum,i,e]),Object(c.useEffect)((function(){if(o.called&&!o.loading&&o.data){A.a.debug("useContributionsData","getContributionsByAccountAndParachainId","loaded",o);var a=o.data.contributions.nodes.map((function(a){return{account:a.account,amount:a.amount,blockNum:a.blockNum,parachainId:a.parachainId}}));s(a)}}),[o]),{data:d,loading:o.loading,called:o.loading,getContributionsByAccountAndParachainId:i}},Ja=function(){A.a.debug("useTotalKsmContributed");var a=L().data.contributions.reduce((function(a,e){var n=e.amount;return new Y.a(a).plus(new Y.a(n)).toFixed(0)}),"0");return A.a.debug("useTotalKsmContributed",a),a},Xa=n(470),za=(n(435),function(a){var e=a.onAccountSelect,n=aa(),t=n.accounts,i=n.setActiveAccount,o=Object(c.useRef)(null);return Object(Xa.a)(o,(function(){e()})),Object(b.jsx)("div",{className:"bsx-account-selector",children:Object(b.jsx)("div",{className:"bsx-account-selector-backdrop",children:Object(b.jsxs)("div",{className:"bsx-account-selector-modal",ref:o,children:[Object(b.jsx)("div",{className:"title",children:"Select an account"}),Object(b.jsx)("div",{children:t.map((function(a){return Object(b.jsxs)("div",{className:"account",onClick:function(n){return t=a.address,i(t),void e();var t},children:[Object(b.jsx)("p",{className:"name",children:a.meta.name}),Object(b.jsx)("p",{className:"address",children:a.address})]},a.address)}))})]})})})});Ka.b.register(Ya.a);var Za={precision:6};Wa.b.animation=!1;var Qa="#ffe733",ae="#ff5033",ee="#ff8133",ne="#90ff33",te="#171b22",ce="#ebebeb",ie="rgba(181, 149, 114, .1)",oe="transparent",re=function(){var a=E().dispatch,e=ka().chronicle,n=Ia(),i=n.own,o=(n.ownLoading,Ba()),r=o.sibling,l=(o.siblingLoading,Sa()),d=function(){var a=E().dispatch,e=L(),n=(P(),M()),i=Fa(),o=aa(),r=o.activeAccount,l=o.activeAccountBalance,d=Ga(),s=Ja();return Object(c.useEffect)((function(){a({type:t.ConnectAccount})}),[r]),Object(c.useEffect)((function(){r&&l&&(d.loading||(A.a.debug("useAccountData","setting account data",r,l),a({type:t.SetAccountData,payload:{address:r,balance:l,contributions:d.data}})))}),[r,l,d.loading,d.data,a]),{account:e,contributions:n,rewardsReceived:i,totalKsmContributed:s}}();Ja();Object(c.useEffect)((function(){return a({type:t.LoadChronicle})}),[]);var s=Object(c.useMemo)((function(){return!i.data.crowdloan||!r.data.crowdloan}),[i.data,r.data]);return{chronicle:e,own:i,sibling:r,isDashboardEssentialDataLoading:s,incentives:l,accountData:d}},le=function(){var a,e,n=re(),t=n.chronicle,i=n.own,o=n.sibling,r=n.isDashboardEssentialDataLoading,l=n.incentives,d=n.accountData,s=Object(c.useState)(!1),g=Object(v.a)(s,2),j=g[0],m=g[1],O=u.targetAuctionId,w=u.historicalAuctionData[O],x=Object(Ca.range)(u.ownCrowdloanBlockNum,w.closingEnd,50),f=ca()([u.ownCrowdloanBlockNum,w.closingEnd],[0,(w.closingEnd-u.ownCrowdloanBlockNum)/50]),p=ca()([u.ownCrowdloanBlockNum,w.closingEnd],[0,100]),N=Object(c.useMemo)((function(){var a,e,n,t;return{labels:x,datasets:[{label:"Basilisk",borderColor:ne,yAxisID:"crowdloanCap",data:null===(a=i.data.aggregatedCrowdloanBalances)||void 0===a?void 0:a.map((function(a){return La("".concat(a.raised))})).concat(i.data.crowdloan?[La("".concat(null===(e=i.data.crowdloan)||void 0===e?void 0:e.raised))]:[])},{label:"Sibling",borderColor:Qa,yAxisID:"crowdloanCap",data:null===(n=o.data.aggregatedCrowdloanBalances)||void 0===n?void 0:n.map((function(a){return La("".concat(a.raised))})).concat(o.data.crowdloan?[La("".concat(null===(t=o.data.crowdloan)||void 0===t?void 0:t.raised))]:[])},{label:"BSX Multiplier",yAxisID:"bsxMultiplier",borderColor:oe,backgroundColor:ie,fill:!0,data:x.map((function(a){return oa(a,O,w.closingStart,w.closingEnd)}))}]}}),[i.data,i.loading,o.data,o.loading]),C={backgroundColor:ne,position:"end",enabled:!0,color:te,font:{family:"Pexico",size:12},xAdjust:10,cornerRadius:0},k=Object(c.useMemo)((function(){var a,e;return{pointRadius:0,responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!1},crowdloanCap:{type:"linear",position:"left",display:!1,max:2e5,min:0},bsxMultiplier:{type:"linear",display:!1,position:"right",max:1.7,min:0}},plugins:{tooltip:{enabled:!1},legend:{display:!1},autocolors:!1,annotation:{annotations:{auctionStart:{type:"line",value:f(w.blockNum),borderColor:ee,borderWidth:3,borderDash:[3,3],scaleID:"x",label:Object(h.a)(Object(h.a)({},C),{},{position:"start",backgroundColor:ee,content:"auction starting",xAdjust:0,yAdjust:20})},closingStart:{type:"line",value:f(w.closingStart),borderColor:ae,borderWidth:3,borderDash:[3,3],scaleID:"x",label:Object(h.a)(Object(h.a)({},C),{},{position:"start",backgroundColor:ae,content:"auction closing",xAdjust:0,yAdjust:20})},now:t.data.curBlockNum?{type:"line",value:f(t.data.curBlockNum),borderColor:ce,borderWidth:3,borderDash:[3,3],scaleID:"x",label:Object(h.a)(Object(h.a)({},C),{},{position:"start",backgroundColor:ce,content:"now",xAdjust:0,yAdjust:60})}:null,ownRaised:(null===(a=i.data.crowdloan)||void 0===a?void 0:a.raised)?{type:"line",value:La(i.data.crowdloan.raised),borderColor:ne,borderWidth:1,borderDash:[3,3],scaleID:"crowdloanCap",label:Object(h.a)(Object(h.a)({},C),{},{content:Va()(parseFloat(La(i.data.crowdloan.raised)),Za)})}:null,siblingRaised:(null===(e=o.data.crowdloan)||void 0===e?void 0:e.raised)?{type:"line",borderWidth:1,borderDash:[3,3],scaleID:"crowdloanCap",value:La(o.data.crowdloan.raised),borderColor:Qa,label:Object(h.a)(Object(h.a)({},C),{},{backgroundColor:Qa,content:Va()(parseFloat(La(o.data.crowdloan.raised)),Za)})}:null}}}}}),[null===(a=i.data.crowdloan)||void 0===a?void 0:a.raised,null===(e=o.data.crowdloan)||void 0===e?void 0:e.raised,t.data.curBlockNum]),I=Object(c.useMemo)((function(){return r}),[r]);return Object(b.jsxs)("div",{className:"bsx-dashboard",children:[Object(b.jsx)("div",{className:"bsx-navbar",children:Object(b.jsx)("div",{className:"container-xl",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("div",{className:"bsx-logo",children:"basilisk"})}),Object(b.jsx)("div",{className:"col-9 bsx-menu-col",children:Object(b.jsxs)("div",{className:"bsx-menu",children:[Object(b.jsx)("div",{className:"bsx-menu-item",children:Object(b.jsx)("a",{href:"https://bsx.fi/",target:"_blank",children:"home"})}),Object(b.jsx)("div",{className:"bsx-menu-item",children:Object(b.jsx)("a",{href:"https://discord.gg/S8YZj5aXR6",target:"_blank",children:"discord"})}),Object(b.jsx)("div",{className:"bsx-eye",children:Object(b.jsx)("img",{src:ea})}),Object(b.jsx)("div",{className:"bsx-menu-item",children:Object(b.jsx)("a",{href:"https://github.com/galacticcouncil/Basilisk-node",target:"_blank",children:"github"})}),Object(b.jsx)("div",{className:"bsx-menu-item",children:Object(b.jsx)("a",{href:"https://docs.bsx.fi/",target:"_blank",children:"docs"})}),Object(b.jsx)("div",{className:"bsx-menu-item",children:Object(b.jsx)("a",{href:"https://basiliskfi.substack.com/",target:"_blank",children:"blog"})})]})})]})})}),Object(b.jsxs)("div",{className:"bsx-disclaimer",children:["We're currently investigating issues related to our infrastructure, which may affect displaying of your past contributions and rewards. However all of your past contributions have been recorded on-chain, and are completely safe. Your rewards can be retrospectively calculated from existing on-chain data, using the ",Object(b.jsx)("a",{href:"https://basiliskfi.substack.com/p/basilisk-crowdloan-kick-off",target:"_blank",children:"information provided in this article"}),". Stay vigilant."]}),Object(b.jsx)("div",{className:"bsx-account",children:Object(b.jsxs)("div",{className:"container-xl",children:[Object(b.jsxs)("div",{className:"row bsx-account-selector-display",children:[Object(b.jsx)("div",{className:"col-9 bsx-address",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{className:"bsx-chronicle",children:["#".concat(t.data.curBlockNum),d.account.data.address?" / ":""]}),d.account.data.address]})}),Object(b.jsx)("div",{className:"col-3 bsx-select-account",onClick:function(a){return m(!0)},children:"change your account"})]}),Object(b.jsxs)("div",{className:"row bsx-stats",children:[Object(b.jsx)("div",{className:"col-9",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-3 bsx-stat",children:[Object(b.jsx)("span",{className:"bsx-stat-title",children:"total ksm contributed"}),Object(b.jsxs)("span",{className:"bsx-stat-value",children:["~",Va()(parseFloat(La(d.totalKsmContributed)),Za)]})]}),Object(b.jsxs)("div",{className:"col-3 bsx-stat",children:[Object(b.jsx)("span",{className:"bsx-stat-title",children:"minimal bsx received"}),Object(b.jsxs)("span",{className:"bsx-stat-value",children:["~",Va()(parseFloat(La(d.rewardsReceived.minimalBsxReceived)),Za)]})]}),Object(b.jsxs)("div",{className:"col-3 bsx-stat",children:[Object(b.jsx)("span",{className:"bsx-stat-title",children:"current bsx received"}),Object(b.jsxs)("span",{className:"bsx-stat-value",children:["~",Va()(parseFloat(La(d.rewardsReceived.currentBsxReceived)),Za)]})]}),Object(b.jsxs)("div",{className:"col-3 bsx-stat",children:[Object(b.jsx)("span",{className:"bsx-stat-title",children:"current hdx reward"}),Object(b.jsxs)("span",{className:"bsx-stat-value",children:["~",Va()(parseFloat(Ha(Ma(La(d.rewardsReceived.currentHdxReceived)))),Za)]})]})]})}),Object(b.jsxs)("div",{className:"col-3 bsx-stat bsx-stat-balance",children:[Object(b.jsx)("span",{className:"bsx-stat-title",children:"balance"}),Object(b.jsxs)("span",{className:"bsx-stat-value",children:["~",Va()(parseFloat(La(d.account.data.balance)),Za)]})]})]})]})}),Object(b.jsx)("div",{className:"container-xl",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-9 bsx-graph",children:[Object(b.jsxs)("div",{className:"bsx-graph-wrapper",children:[Object(b.jsx)("div",{className:"bsx-annotation-container"}),I?Object(b.jsx)("div",{className:"bsx-graph-loader",children:"Fetching graph data..."}):Object(b.jsx)(Wa.a,{id:"1",type:"line",data:N,options:k})]}),Object(b.jsxs)("div",{className:"bsx-graph-timeline",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-3",children:"06.07"}),Object(b.jsxs)("div",{className:"col-6 bsx-legend",children:[Object(b.jsx)("span",{className:"basilisk",children:"Basilisk"})," / ",Object(b.jsx)("span",{className:"sibling",children:"Target"})," KSM raised"]}),Object(b.jsx)("div",{className:"col-3",children:"13.07"})]}),Object(b.jsx)("div",{className:"bsx-progress-bar-container",children:Object(b.jsx)("div",{className:"bsx-progress-bar",style:{width:"".concat(p(t.data.curBlockNum),"%")}})})]})]}),Object(b.jsxs)("div",{className:"col-3 bsx-contribute",children:[Object(b.jsx)("div",{className:"bsx-incentives",children:r?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"bsx-incentives-loader",children:"Caluculating incentives..."})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"bsx-incentive",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6 name",children:Object(b.jsx)("span",{children:"hdx bonus"})}),Object(b.jsx)("div",{className:"col-6 value",children:Object(b.jsxs)("span",{children:["~",l.hdxBonus?new Y.a(l.hdxBonus).toFixed(2):"-"]})})]})}),Object(b.jsx)("div",{className:"bsx-incentive",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-9 name",children:Object(b.jsx)("span",{children:"bsx multiplier"})}),Object(b.jsx)("div",{className:"col-3 value",children:Object(b.jsxs)("span",{children:["~",l.bsxMultiplier?new Y.a(l.bsxMultiplier).toFixed(2):"-"]})})]})})]})}),Object(b.jsx)("div",{children:Object(b.jsx)(qa,{totalContributionWeight:d.rewardsReceived.totalContributionWeight,connectAccount:function(){return m(!0)}})})]})]})}),Object(b.jsx)("div",{className:"bsx-wallpaper",children:Object(b.jsx)("img",{src:na})}),j?Object(b.jsx)(za,{onAccountSelect:function(){return m(!1)}}):Object(b.jsx)(b.Fragment,{})]})};var de=function(){return Object(b.jsx)(j,{children:Object(b.jsx)(R,{children:Object(b.jsx)(Q,{children:Object(b.jsx)(le,{})})})})},se=function(a){a&&a instanceof Function&&n.e(3).then(n.bind(null,480)).then((function(e){var n=e.getCLS,t=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(a),t(a),c(a),i(a),o(a)}))},ue=function(){var a=new URL(document.location).searchParams;return console.log("loglevel",a.get("loglevel")),a.get("loglevel")}()||"info";A.a.setLevel(ue),r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(de,{})}),document.getElementById("root")),se()}},[[437,1,2]]]);
//# sourceMappingURL=main.b1a2143c.chunk.js.map